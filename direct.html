<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="ui/logo.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">

  <title>UMBC Game Developers Club</title>
</head>

<body>

<div id="gamedev-root">
<gamedev-header @theme-change="themeChange"></gamedev-header>

<main role="main" class="main" id="timer">

  <section>
    <h1>UMBC Game Developers Club Direct</h1>
    <direct-timer></direct-timer>
  </section>

</main>

<gamedev-footer></gamedev-footer>
</div>

<script src="js/vue.js"></script>
<script>
  Vue.component('direct-timer', {
    template: `
      <div>
        <h1 style="font-size:6rem; text-align:center;">{{ countdown }}</h1>
        <p>The UMBC Game Developers Club Direct will be on {{ direct_day }}</p>
      </div>
    `,
    data() {
      return {
        direct_date: new Date(2020, 8, 9, 10, 0),
        direct_day: '10 AM on Wednesday, September 9th',
        countdown: '00:00:00:00'
      }
    },
    created() {
      let calc_countdown = () => {
        let current_date = Date.now();
        let count = this.direct_date - current_date;
        if (count < 0) count = 0;
        let days = Math.floor(count / 86400000).toString().padStart(2, '0');
        count -= days * 86400000;
        let hours = Math.floor(count / 3600000).toString().padStart(2, '0');
        count -= hours * 3600000;
        let minutes = Math.floor(count / 60000).toString().padStart(2, '0');
        count -= minutes * 60000;
        let seconds = Math.floor(count / 1000).toString().padStart(2, '0');
        this.countdown = `${days}:${hours}:${minutes}:${seconds}`;
      };
      setInterval(calc_countdown, 1000);
      calc_countdown();
    }
  });
</script>
<script src="components/gamedev-template.js"></script>
</body>

</html>